{% load static %}
{% load i18n %}

<header>
  <nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16 lg:h-20">
        
        
        <div class="flex-shrink-0">
          <a href="{% url 'home' %}" class="text-2xl lg:text-3xl font-serif font-bold text-gray-900 hover:text-amber-700 transition-colors duration-300">
            Laura Melissa
          </a>
        </div>

        
        <div class="hidden lg:flex items-center space-x-1">

          
          <div class="relative group">
            <button class="text-lg font-medium text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md hover:bg-gray-100 transition-all duration-200 flex items-center gap-1">
              {% translate "Collections" %}
              <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            
            <ul class="absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transform scale-95 group-hover:scale-100 transition-all duration-200 z-50 py-2">
              {% if collections %}
                {% for collection in collections %}
                  <li>
                    <a href="{% url "shop:collection" collection.id %}" class="block px-6 py-3 text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors duration-150">
                      {{ collection.name }}
                    </a>
                  </li>
                {% endfor %}
              {% else %}
                <li class="px-6 py-3 text-gray-500 italic">
                  {% translate "No collections have been registered yet" %}
                </li>
              {% endif %}
              <li><hr class="my-1 border-gray-100"></li>
              <li>
                <a href="{% url 'shop:shop' %}" class="block px-6 py-3 text-amber-600 font-medium hover:text-amber-700 hover:bg-amber-50 transition-all duration-150">
                  {% translate "See them all!" %}
                </a>
              </li>
            </ul>
          </div>

          
          <a href="{% url "about" %}" class="text-lg font-medium text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md hover:bg-gray-100 transition-all duration-200">
            {% translate "About" %}
          </a>

          
          {% if user.is_authenticated %}
            <a href="{% url 'account:account' %}" class="text-lg font-medium text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md hover:bg-gray-100 transition-all duration-200">
              {% translate "Account" %}
            </a>
          {% else %}
            <a href="{% url 'account:login' %}" class="text-lg font-medium text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md hover:bg-gray-100 transition-all duration-200">
              {% translate "Login" %}
            </a>
            <a href="{% url 'account:registration' %}" class="text-lg font-semibold text-amber-600 hover:text-amber-700 px-3 py-2 rounded-md hover:bg-amber-50 transition-all duration-200">
              {% translate "Register" %}
            </a>
          {% endif %}

          
          <div class="flex items-center space-x-2 ml-4">
            {% if user.is_authenticated %}
              
              <a href="{% url 'account:wishlist_detail' %}" class="w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-all duration-200 relative">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 21.364l-7.682-7.682a4.5 4.5 0 010-6.364z"/>
                </svg>
                {% if wishlist_count|default:0 > 0 %}
                  <span class="absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs rounded-full flex items-center justify-center">
                    {{ wishlist_count }}
                  </span>
                {% endif %}
              </a>

              
              <a href="{% url 'cart:cart' %}" class="w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-all duration-200 relative">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
                {% if cart_count|default:0 > 0 %}
                  <span class="absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-white text-xs rounded-full flex items-center justify-center">
                    {{ cart_count }}
                  </span>
                {% endif %}
              </a>
            {% endif %}

            
            <a href="{% url "contact:contact" %}" class="w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-all duration-200">
              <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.27 7.27c.883.883 2.317.883 3.2 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
              </svg>
            </a>
          </div>
        </div>

        <!-- Mobile menu button -->
        <button class="lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200"
                onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
          <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>

    <div class="lg:hidden hidden" id="mobile-menu">
      <!-- Mobile menu content goes here -->
    </div>
  </nav>
</header>
